# Grapic Environment Variables
# Copy to .env and adjust for your deployment

# ─── Server ──────────────────────────────────────────────────────
GRAPIC_HOST=0.0.0.0
GRAPIC_PORT=8000

# ─── Environment ──────────────────────────────────────────────────
# development | production
GRAPIC_ENV=development

# ─── Face Recognition ─────────────────────────────────────────────
# Cosine similarity threshold (0-1). Higher = stricter match, fewer false positives
GRAPIC_SIMILARITY_THRESHOLD=0.40

# ─── Image Pre-processing ──────────────────────────────────────────
GRAPIC_MAX_IMAGE_DIMENSION=2048
GRAPIC_STORAGE_JPEG_QUALITY=85

# ─── Optional S3 (PRD 5.2) ──────────────────────────────────────────
# When set, images are stored in S3 instead of local filesystem
# GRAPIC_S3_BUCKET=my-bucket
# AWS_ACCESS_KEY_ID=...
# AWS_SECRET_ACCESS_KEY=...
# AWS_REGION=us-east-1

# ─── Supabase (Authentication ONLY) ─────────────────────────────────────
# When set with USE_SELF_HOSTED_PG=true, Supabase is used ONLY for authentication
# Leave unset to use Supabase for both auth AND database
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_KEY=your-anon-key
# SUPABASE_SERVICE_KEY=your-service-role-key

# ─── Self-Hosted PostgreSQL ───────────────────────────────────────────────
# When set, uses self-hosted PostgreSQL with pgvector instead of Supabase database
# Still uses Supabase for authentication (if SUPABASE_URL is also set)
# Recommended for production: self-hosted data + Supabase Auth
# DATABASE_URL=postgresql://postgres:password@localhost:5432/grapic
# USE_SELF_HOSTED_PG=true

# ─── Redis (for Celery task queue) ───────────────────────────────────────
# When set, enables distributed task processing with Celery
# Recommended for production scalability
# REDIS_URL=redis://localhost:6379/0
# GRAPIC_USE_REDIS=false

# ─── Upload ───────────────────────────────────────────────────────
GRAPIC_MAX_FILE_SIZE_MB=20

# ─── Processing ───────────────────────────────────────────────────
GRAPIC_MAX_WORKERS=4

# ─── Monetization ──────────────────────────────────────────────────
# Free tier photo limit per event
GRAPIC_FREE_TIER_LIMIT=500

# ─── CORS ─────────────────────────────────────────────────────────
# Comma-separated origins, or * for all
# GRAPIC_CORS_ORIGINS=*

# ─── QR Join Links ─────────────────────────────────────────────────
# Base URL for QR code join links (default: API URL)
# GRAPIC_BASE_URL=http://localhost:8000
